(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4987],{740:(e,t,r)=>{"use strict";r.d(t,{LogsTable:()=>c});var a=r(5155),s=r(2115),n=r(7270),l=r(1647),o=r(4269),d=r(2033),i=r(5894);function c(){let[e,t]=(0,s.useState)([]),[r,c]=(0,s.useState)(!0),[u,f]=(0,s.useState)(""),{toast:m}=(0,i.dj)();(0,s.useEffect)(()=>{let e=localStorage.getItem("qa-secret");e?(f(e),x(e)):c(!1)},[]);let x=async e=>{c(!0);try{let r=await fetch("/api/trade-events",{headers:{"x-qa-secret":e}}),a=await r.json();a.ok?t(a.logs||[]):m({title:"Error",description:a.message||"Failed to fetch logs",variant:"destructive"})}catch(e){m({title:"Error",description:e.message,variant:"destructive"})}finally{c(!1)}};return r?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(d.A,{className:"h-6 w-6 animate-spin text-muted-foreground"}),(0,a.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Loading real-time logs..."})]}):0===e.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No trade events yet. Trades will appear here in real-time."})}):(0,a.jsx)("div",{className:"w-full overflow-auto",children:(0,a.jsxs)(n.XI,{children:[(0,a.jsx)(n.A0,{children:(0,a.jsxs)(n.Hj,{children:[(0,a.jsx)(n.nd,{className:"w-[200px]",children:"Timestamp"}),(0,a.jsx)(n.nd,{className:"w-[120px]",children:"Level"}),(0,a.jsx)(n.nd,{className:"w-[150px]",children:"Event Type"}),(0,a.jsx)(n.nd,{className:"w-[100px]",children:"Master Order"}),(0,a.jsx)(n.nd,{children:"Message"})]})}),(0,a.jsx)(n.BF,{children:e.map(e=>(0,a.jsxs)(n.Hj,{children:[(0,a.jsx)(n.nA,{className:"text-muted-foreground text-xs",children:e.timestamp}),(0,a.jsx)(n.nA,{children:(0,a.jsx)(l.E,{variant:"outline",className:(0,o.cn)("border-transparent text-xs",(e=>{switch(e){case"Info":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"Error":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"Intervention":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}})(e.level)),children:e.level})}),(0,a.jsx)(n.nA,{className:"text-xs",children:e.eventType}),(0,a.jsx)(n.nA,{className:"font-mono text-xs",children:e.masterOrderId}),(0,a.jsx)(n.nA,{className:"font-mono text-xs",children:e.message})]},e.id))})]})})}},1647:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var a=r(5155);r(2115);var s=r(3101),n=r(4269);let l=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...s})}},2033:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(4294).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2543:(e,t,r)=>{Promise.resolve().then(r.bind(r,740))},4269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2821),s=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},4294:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(2115);let s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:i="",children:c,iconNode:u,...f}=e;return(0,a.createElement)("svg",{ref:t,...n,width:l,height:l,stroke:r,strokeWidth:d?24*Number(o)/Number(l):o,className:s("lucide",i),...f},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:o,...d}=r;return(0,a.createElement)(l,{ref:n,iconNode:t,className:s("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),o),...d})});return r.displayName="".concat(e),r}},5894:(e,t,r)=>{"use strict";r.d(t,{dj:()=>u});var a=r(2115);let s=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),i({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=[],d={toasts:[]};function i(e){d=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?l(r):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(d,e),o.forEach(e=>{e(d)})}function c(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>i({type:"DISMISS_TOAST",toastId:r});return i({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>i({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>i({type:"DISMISS_TOAST",toastId:e})}}},7270:(e,t,r)=>{"use strict";r.d(t,{A0:()=>o,BF:()=>d,Hj:()=>i,XI:()=>l,nA:()=>u,nd:()=>c});var a=r(5155),s=r(2115),n=r(4269);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});l.displayName="Table";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...s})});o.displayName="TableHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});d.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});i.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:r,classNameName:s,...l}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...l})});c.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,classNameName:s,...l}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...l})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"}},e=>{e.O(0,[7349,8441,1255,7358],()=>e(e.s=2543)),_N_E=e.O()}]);